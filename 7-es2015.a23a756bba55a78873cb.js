(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8VcE":function(e,t,i){"use strict";i.r(t),i.d(t,"CustomCurrencyMaskConfig",function(){return A}),i.d(t,"CadastroModule",function(){return _});var n=i("aceb"),r=i("RS3s"),a=i("vTDv"),s=i("sRfN"),o=i("z6cu"),l=i("un/a"),c=i("JIr8"),h=i("fXoL"),u=i("tk/3");let m=(()=>{class e{constructor(e){this.httpClient=e,this.endPoint="http://localhost:8081/carteiras",this.httpOptions={headers:{"Content-Type":"application/json; charset=utf-8"}}}getCarteiras(){return this.httpClient.get(this.endPoint+"/list").pipe(Object(l.a)(1),Object(c.a)(this.httpError))}getUser(e){return this.httpClient.get(this.endPoint+"/get/"+e).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}save(e){return this.httpClient.post(this.endPoint+"/add",e,this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}update(e,t){return this.httpClient.put(this.endPoint+"/alter/"+e,JSON.stringify(t),this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}delete(e){return this.httpClient.delete(this.endPoint+"/delete/"+e,this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}httpError(e){let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(t),Object(o.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275inject"](u.a))},e.\u0275prov=h["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),d=(()=>{class e{constructor(e,t,i){this.service=e,this.http=t,this.carteiraService=i,this.DataCarteiras=[],this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1}},pager:{display:!1}},this.source=new r.b,i.getCarteiras().subscribe(e=>{this.DataCarteiras=e,this.source.load(this.DataCarteiras)})}onDeleteConfirm(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemCarteira=e.data,this.carteiraService.delete(this.ItemCarteira.id).subscribe(()=>{e.confirm.resolve()},e=>console.error(e))):e.confirm.reject()}onCreateConfirm(e){window.confirm("Deseja Salvar este item?")?(this.ItemCarteira=e.newData,this.carteiraService.save(this.ItemCarteira).subscribe(t=>{this.ItemCarteira.id=t.id,e.confirm.resolve(this.ItemCarteira)},e=>console.error(e))):e.confirm.reject()}onEditConfirm(e){window.confirm("Deseja alterar este item?")?(this.ItemCarteira=e.newData,this.carteiraService.save(this.ItemCarteira).subscribe(()=>{e.confirm.resolve()},e=>console.error(e))):e.confirm.reject()}onSearch(e=""){this.source.setFilter([{field:"descricao",search:e}],!1)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](s.a),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](m))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-carteira"]],decls:7,vars:2,consts:[["type","text","placeholder","Pesquisar",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"nb-card"),h["\u0275\u0275elementStart"](1,"nb-card-header"),h["\u0275\u0275text"](2," Carteiras "),h["\u0275\u0275elementStart"](3,"input",0,1),h["\u0275\u0275listener"]("keydown.enter",function(){h["\u0275\u0275restoreView"](e);const i=h["\u0275\u0275reference"](4);return t.onSearch(i.value)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"nb-card-body"),h["\u0275\u0275elementStart"](6,"ng2-smart-table",2),h["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}2&e&&(h["\u0275\u0275advance"](6),h["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[n.t,n.v,n.s,r.c],styles:[""]}),e})();var p=i("tyNb");let f=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-cadastro"]],decls:1,vars:0,template:function(e,t){1&e&&h["\u0275\u0275element"](0,"router-outlet")},directives:[p.h],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-light   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}  input.form-control,   select.form-control{color:#495057!important}  .smart-column-left{text-align:right}"]}),e})(),g=(()=>{class e{constructor(e){this.httpClient=e,this.endPoint="http://localhost:8081/receitas",this.httpOptions={headers:{"Content-Type":"application/json; charset=utf-8"}}}getReceitas(e,t){return this.httpClient.get(this.endPoint+"/list/"+e+"/"+t).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}getUser(e){return this.httpClient.get(this.endPoint+"/get/"+e).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}save(e){return this.httpClient.post(this.endPoint+"/add",e,this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}update(e,t){return this.httpClient.put(this.endPoint+"/alter/"+e,JSON.stringify(t),this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}delete(e){return this.httpClient.delete(this.endPoint+"/delete/"+e,this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}httpError(e){let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(t),Object(o.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275inject"](u.a))},e.\u0275prov=h["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),v=(()=>{class e{constructor(){}static converteMoedaFloat(e){return e=""===e?"0":(e=e.replace(".","")).replace(",","."),parseFloat(e)}static zeroesq(e,t){const i=e.length;if(i<t){const n=t-i;for(let t=0;t<n;t++)e="0"+e}return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=i("FKr1"),C=i("3Pt+"),S=i("ofXK");let I=new h.InjectionToken("currency.mask.config");class E{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}updateValueAndCursor(e,t,i){this.rawValue=e,this.setCursorAt(i-=t-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(t==i||!this.htmlInputElement.value.substring(t,i).match(/\d/)),r="0"==this.htmlInputElement.value.substring(0,1);return e||n||r}get inputSelection(){let e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let i=document.getSelection().anchorNode;if(i&&i.firstChild==this.htmlInputElement){let i=this.htmlInputElement.value.length,n=this.htmlInputElement.value.replace(/\r\n/g,"\n"),r=this.htmlInputElement.createTextRange(),a=this.htmlInputElement.createTextRange();a.collapse(!1),r.compareEndPoints("StartToEnd",a)>-1?e=t=i:(e=-r.moveStart("character",-i),e+=n.slice(0,e).split("\n").length-1,r.compareEndPoints("EndToEnd",a)>-1?t=i:(t=-r.moveEnd("character",-i),t+=n.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue}}class w{constructor(e,t){this.htmlInputElement=e,this.options=t,this.inputManager=new E(e)}addNumber(e){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let t=String.fromCharCode(e),i=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,i)+t+this.rawValue.substring(n,this.rawValue.length),this.updateFieldValue(i+1)}applyMask(e,t){let{allowNegative:i,decimal:n,precision:r,prefix:a,suffix:s,thousands:o}=this.options,l=(t=e?new Number(t).toFixed(r):t).replace(/[^0-9]/g,"");if(!l)return"";let c=l.slice(0,l.length-r).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,o);""==c&&(c="0");let h=c,u=l.slice(l.length-r);r>0&&(u="0".repeat(r-u.length)+u,h+=n+u);let m=0==parseInt(c)&&(0==parseInt(u)||""==u);return(t.indexOf("-")>-1&&i&&!m?"-":"")+a+h+s}clearMask(e){if(null==e||""==e)return null;let t=e.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),parseFloat(t)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let e=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(e+1)}}changeToPositive(){let e=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(e-1)}fixCursorPosition(e){let t=this.inputSelection.selectionStart;t>this.getRawValueWithoutSuffixEndPosition()||e?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):t<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(e){let{decimal:t,thousands:i}=this.options,n=this.inputSelection.selectionEnd,r=this.inputSelection.selectionStart;r>this.rawValue.length-this.options.suffix.length&&(n=this.rawValue.length-this.options.suffix.length,r=this.rawValue.length-this.options.suffix.length),n==r&&(46!=e&&63272!=e||!/^\d+$/.test(this.rawValue.substring(r,n+1))||(n+=1),46!=e&&63272!=e||this.rawValue.substring(r,n+1)!=t&&this.rawValue.substring(r,n+1)!=i||(n+=2,r+=1),8==e&&/^\d+$/.test(this.rawValue.substring(r-1,n))&&(r-=1),8!=e||this.rawValue.substring(r-1,n)!=t&&this.rawValue.substring(r-1,n)!=i||(r-=2,n-=1)),this.rawValue=this.rawValue.substring(0,r)+this.rawValue.substring(n,this.rawValue.length),this.updateFieldValue(r)}updateFieldValue(e){let t=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(t,this.rawValue.length,e=null==e?this.rawValue.length:e)}updateOptions(e){let t=this.value;this.options=e,this.value=t}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}}class y{constructor(e,t){this.inputService=new w(e,t),this.htmlInputElement=e}handleClick(e,t){0!=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)||isNaN(this.inputService.value)||this.inputService.fixCursorPosition(t)}handleCut(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){if(this.isReadOnly())return;let t=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),i=this.inputService.rawValue.length,n=this.inputService.inputSelection.selectionEnd,r=this.inputService.getRawValueWithoutSuffixEndPosition(),a=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,n==r&&1==Math.abs(i-a)||0==a){if(i<a&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),i>a)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/))return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}handleKeydown(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(8==t||46==t||63272==t){e.preventDefault();let i=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);i!=this.inputService.rawValue.length&&0!=this.inputService.value||(this.setValue(null),this.onModelChange(this.inputService.value)),0!=i||isNaN(this.inputService.value)||(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),8!==t&&46!==t||0==i||isNaN(this.inputService.value)||(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value))}}handleKeypress(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(null!=t&&-1==[9,13].indexOf(t)&&!this.isArrowEndHomeKeyInFirefox(e)){switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/)||this.inputService.addNumber(t)}e.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(e){this.inputService.fixCursorPosition()}handlePaste(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}getNewKeyCode(e,t){if(e.length>t.length)return null;for(let i=0;i<t.length;i++)if(e.length==i||e[i]!=t[i])return t.charCodeAt(i)}isArrowEndHomeKeyInFirefox(e){return-1!=[35,36,37,38,39,40].indexOf(e.keyCode)&&(null==e.charCode||0==e.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(e){let t=this.inputService.getRawValueWithoutSuffixEndPosition();setTimeout(function(){e.target.setSelectionRange(t,t)},0)}}const R={provide:C.i,useExisting:Object(h.forwardRef)(()=>x),multi:!0};let x=(()=>{class e{constructor(e,t,i){this.currencyMaskConfig=e,this.elementRef=t,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},e&&(this.optionsTemplate=e),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new y(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(e){this.inputHandler.getOnModelTouched().apply(e)}handleClick(e){this.inputHandler.handleClick(e,this.isChromeAndroid())}handleCut(e){this.isChromeAndroid()||this.inputHandler.handleCut(e)}handleInput(e){this.isChromeAndroid()&&this.inputHandler.handleInput(e)}handleKeydown(e){this.isChromeAndroid()||this.inputHandler.handleKeydown(e)}handleKeypress(e){this.isChromeAndroid()||this.inputHandler.handleKeypress(e)}handleKeyup(e){this.isChromeAndroid()||this.inputHandler.handleKeyup(e)}handlePaste(e){this.isChromeAndroid()||this.inputHandler.handlePaste(e)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(e){this.inputHandler.setOnModelChange(e)}registerOnTouched(e){this.inputHandler.setOnModelTouched(e)}setDisabledState(e){this.elementRef.nativeElement.disabled=e}validate(e){let t={};return e.value>this.max&&(t.max=!0),e.value<this.min&&(t.min=!0),t!={}?t:null}writeValue(e){this.inputHandler.setValue(e)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](I,8),h["\u0275\u0275directiveInject"](h.ElementRef),h["\u0275\u0275directiveInject"](h.KeyValueDiffers))},e.\u0275dir=h["\u0275\u0275defineDirective"]({type:e,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&h["\u0275\u0275listener"]("blur",function(e){return t.handleBlur(e)})("click",function(e){return t.handleClick(e)})("cut",function(e){return t.handleCut(e)})("input",function(e){return t.handleInput(e)})("keydown",function(e){return t.handleKeydown(e)})("keypress",function(e){return t.handleKeypress(e)})("keyup",function(e){return t.handleKeyup(e)})("paste",function(e){return t.handlePaste(e)})},inputs:{options:"options",max:"max",min:"min"},features:[h["\u0275\u0275ProvidersFeature"]([R,{provide:C.h,useExisting:e,multi:!0}])]}),e})(),D=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[S.c,C.e]]}),e})(),M=(()=>{class e{constructor(e,t,i,n){this.service=e,this.http=t,this.receitaService=i,this.carteiraService=n,this.mask=["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1},datareceb:{title:"Dia",type:"string",filter:!1},valor:{title:"Valor",type:"html",class:"smart-column-left",filter:!1,editor:{type:"custom",component:O}},carteira:{title:"Carteira",type:"html",filter:!1,editor:{type:"list",config:{list:[]}}},fixa:{title:"Fixa",type:"html",filter:!1,editor:{type:"checkbox",config:{true:"Sim",false:"N\xe3o",resetText:"clear"}}}},pager:{display:!1}},this.source=new r.b,this.totalReceitas="0,00",this.mesref="05",this.anoref="2021",this.onPesquisaReceitas(),n.getCarteiras().subscribe(e=>{this.ResultGetCarteiras=e;const t=[];Array.from(this.ResultGetCarteiras).forEach(e=>{t.push({value:e.id+" - "+e.descricao,title:e.id+" - "+e.descricao})});const i=this.settings;i.columns.carteira.editor.config.list=t,this.settings=Object.assign({},i)})}ngOnInit(){}onPesquisaReceitas(){this.receitaService.getReceitas(this.mesref,this.anoref).subscribe(e=>{this.ResultGetReceitas=e;const t=[];let i=0;Array.from(this.ResultGetReceitas).forEach(e=>{e.carteira=e.carteira+" - "+e.innercarteira.descricao,e.fixa=e.fixa?"Sim":"N\xe3o",e.datareceb=e.datareceb.substr(0,2),t.push(e),i+=v.converteMoedaFloat(e.valor)}),this.source.load(t),this.totalReceitas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)})}onUpdateTotalReceita(e,t){this.source.getAll().then(i=>{let n=0;i.forEach(i=>{e.id===i.id?"ALTER"===t&&(n+=v.converteMoedaFloat(e.valor)):n+=v.converteMoedaFloat(i.valor)}),"INSERT"===t&&(n+=v.converteMoedaFloat(e.valor)),this.totalReceitas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)})}onDeleteConfirm(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemReceita=e.data,this.receitaService.delete(this.ItemReceita.id).subscribe(()=>{e.confirm.resolve(),this.onUpdateTotalReceita(this.ItemReceita,"DELETE")},e=>console.error(e))):e.confirm.reject()}onCreateConfirm(e){if(window.confirm("Deseja Salvar este item?")){this.ItemReceita=e.newData;const t=this.ItemReceita.carteira,i=this.ItemReceita.carteira.split("-");this.ItemReceita.carteira=i[0].trim(),this.ItemReceita.fixa="Sim"===this.ItemReceita.fixa?"true":"false",this.ItemReceita.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemReceita.valor)),this.ItemReceita.valor=this.ItemReceita.valor.replace(/R\$/gi,"").trim(),this.ItemReceita.datareceb=v.zeroesq(this.ItemReceita.datareceb,2)+"/"+this.mesref+"/"+this.anoref,this.receitaService.save(this.ItemReceita).subscribe(i=>{this.ItemReceita.id=i.id,this.ItemReceita.carteira=t,this.ItemReceita.fixa=this.ItemReceita.fixa?"Sim":"N\xe3o",this.ItemReceita.datareceb=this.ItemReceita.datareceb.substr(0,2),e.confirm.resolve(this.ItemReceita),this.onUpdateTotalReceita(this.ItemReceita,"INSERT")},e=>console.error(e))}else e.confirm.reject()}onEditConfirm(e){if(window.confirm("Deseja alterar este item?")){this.ItemReceita=e.newData;const t=this.ItemReceita.carteira,i=this.ItemReceita.carteira.split("-");this.ItemReceita.carteira=i[0].trim(),this.ItemReceita.fixa="Sim"===this.ItemReceita.fixa?"true":"false",this.ItemReceita.descricao=this.ItemReceita.descricao.trim(),-1===this.ItemReceita.valor.toString().indexOf(",")&&(this.ItemReceita.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemReceita.valor))),this.ItemReceita.datareceb=v.zeroesq(this.ItemReceita.datareceb,2)+"/"+this.mesref+"/"+this.anoref,this.ItemReceita.valor=this.ItemReceita.valor.replace(/R\$/gi,"").trim(),this.receitaService.save(this.ItemReceita).subscribe(()=>{this.ItemReceita.carteira=t,this.ItemReceita.fixa=this.ItemReceita.fixa?"Sim":"N\xe3o",this.ItemReceita.datareceb=this.ItemReceita.datareceb.substr(0,2),e.confirm.resolve(this.ItemReceita),this.onUpdateTotalReceita(this.ItemReceita,"ALTER")},e=>console.error(e))}else e.confirm.reject()}onSearch(e=""){this.source.setFilter([{field:"carteira",search:e},{field:"descricao",search:e},{field:"datareceb",search:e},{field:"valor",search:e}],!0)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](s.a),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](g),h["\u0275\u0275directiveInject"](m))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-receita"]],decls:48,vars:5,consts:[[1,"row"],[1,"col-lg-auto"],["matRipple","",2,"width","200px",3,"ngModel","ngModelChange"],["matRipple","","value","01"],["matRipple","","value","02"],["matRipple","","value","03"],["matRipple","","value","04"],["matRipple","","value","05"],["matRipple","","value","06"],["matRipple","","value","07"],["matRipple","","value","08"],["matRipple","","value","09"],["matRipple","","value","10"],["matRipple","","value","11"],["matRipple","","value","12"],[1,"col-lg-1"],["type","text","nbInput","","fullWidth","","placeholder","Ano","maxlength","4",1,"p-2",3,"ngModel","ngModelChange"],["size","medium","fullWidth",""],["matRipple","",2,"cursor","pointer",3,"click"],["icon","search-outline",1,"action-icon"],["type","text","placeholder","Filtro",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"],[1,"text-info"],["id","smart-total-receita",3,"innerHTML"]],template:function(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"nb-card"),h["\u0275\u0275elementStart"](1,"nb-card-header"),h["\u0275\u0275text"](2,"Receitas"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"nb-card-body"),h["\u0275\u0275elementStart"](4,"div",0),h["\u0275\u0275elementStart"](5,"div",1),h["\u0275\u0275elementStart"](6,"nb-select",2),h["\u0275\u0275listener"]("ngModelChange",function(e){return t.mesref=e}),h["\u0275\u0275elementStart"](7,"nb-option",3),h["\u0275\u0275text"](8,"Janeiro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"nb-option",4),h["\u0275\u0275text"](10,"Fevereiro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](11,"nb-option",5),h["\u0275\u0275text"](12,"Mar\xe7o"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"nb-option",6),h["\u0275\u0275text"](14,"Abril"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](15,"nb-option",7),h["\u0275\u0275text"](16,"Maio"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](17,"nb-option",8),h["\u0275\u0275text"](18,"Junho"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](19,"nb-option",9),h["\u0275\u0275text"](20,"Julho"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](21,"nb-option",10),h["\u0275\u0275text"](22,"Agosto"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](23,"nb-option",11),h["\u0275\u0275text"](24,"Setembro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](25,"nb-option",12),h["\u0275\u0275text"](26,"Outubro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](27,"nb-option",13),h["\u0275\u0275text"](28,"Novembro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](29,"nb-option",14),h["\u0275\u0275text"](30,"Dezembro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](31,"div",15),h["\u0275\u0275elementStart"](32,"input",16),h["\u0275\u0275listener"]("ngModelChange",function(e){return t.anoref=e}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](33,"nb-actions",17),h["\u0275\u0275elementStart"](34,"nb-action",18),h["\u0275\u0275listener"]("click",function(){return t.onPesquisaReceitas()}),h["\u0275\u0275element"](35,"nb-icon",19),h["\u0275\u0275elementStart"](36,"span"),h["\u0275\u0275text"](37,"Pesquisar"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](38,"nb-card"),h["\u0275\u0275elementStart"](39,"nb-card-header"),h["\u0275\u0275elementStart"](40,"input",20,21),h["\u0275\u0275listener"]("keydown.enter",function(){h["\u0275\u0275restoreView"](e);const i=h["\u0275\u0275reference"](41);return t.onSearch(i.value)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](42,"nb-card-body"),h["\u0275\u0275elementStart"](43,"ng2-smart-table",22),h["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](44,"nb-card-footer"),h["\u0275\u0275elementStart"](45,"label",23),h["\u0275\u0275text"](46,"Total: \xa0"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](47,"label",24),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}2&e&&(h["\u0275\u0275advance"](6),h["\u0275\u0275property"]("ngModel",t.mesref),h["\u0275\u0275advance"](26),h["\u0275\u0275property"]("ngModel",t.anoref),h["\u0275\u0275advance"](11),h["\u0275\u0275property"]("settings",t.settings)("source",t.source),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("innerHTML",t.totalReceitas,h["\u0275\u0275sanitizeHtml"]))},directives:[n.t,n.v,n.s,n.bb,b.b,C.k,C.n,n.W,n.I,C.b,C.f,n.m,n.l,n.F,r.c,n.u],styles:["ng2-smart-table tbody tr td:nth-child(3) div.ng-star-inserted{text-align:right}"]}),e})(),O=(()=>{class e extends r.a{constructor(){super()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-input-editor"]],features:[h["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:4,consts:[["currencyMask","","type","text","maxlength","12",1,"form-control","ng-pristine","ng-valid","ng-touched",3,"ngModel","placeholder","name","disabled","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"input",0),h["\u0275\u0275listener"]("ngModelChange",function(e){return t.cell.newValue=e})("click",function(e){return t.onClick.emit(e)})("keydown.enter",function(e){return t.onEdited.emit(e)})("keydown.esc",function(){return t.onStopEditing.emit()}),h["\u0275\u0275elementEnd"]()),2&e&&h["\u0275\u0275property"]("ngModel",t.cell.newValue)("placeholder",t.cell.getValue())("name",t.cell.getId())("disabled",!t.cell.isEditable())},directives:[C.b,x,C.f,C.k,C.n],encapsulation:2}),e})();var j=i("daZI");let V=(()=>{class e{constructor(e,t,i){this.service=e,this.http=t,this.faturaService=i,this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1},diavenc:{title:"Dia de Vencimento",type:"string",filter:!1},limite:{title:"Limite",type:"html",class:"smart-column-left",filter:!1,editor:{type:"custom",component:O}},cartao:{title:"Cart\xe3o de Cr\xe9dito",type:"html",filter:!1,editor:{type:"checkbox",config:{true:"Sim",false:"N\xe3o",resetText:"clear"}}}},pager:{display:!1}},this.source=new r.b,this.onPesquisaFaturas()}ngOnInit(){}onPesquisaFaturas(){this.faturaService.getFaturas().subscribe(e=>{this.ResultGetFaturas=e;const t=[];Array.from(this.ResultGetFaturas).forEach(e=>{e.cartao=e.cartao?"Sim":"N\xe3o",t.push(e)}),this.source.load(t)})}onDeleteConfirm(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemFatura=e.data,this.faturaService.delete(this.ItemFatura.id).subscribe(()=>{e.confirm.resolve()},e=>console.error(e))):e.confirm.reject()}onCreateConfirm(e){window.confirm("Deseja Salvar este item?")?(this.ItemFatura=e.newData,this.ItemFatura.cartao="Sim"===this.ItemFatura.cartao?"true":"false",this.ItemFatura.limite=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemFatura.limite)),this.ItemFatura.descricao=this.ItemFatura.descricao.trim(),this.ItemFatura.limite=this.ItemFatura.limite.replace(/R\$/gi,"").trim(),this.faturaService.save(this.ItemFatura).subscribe(t=>{this.ItemFatura.id=t.id,this.ItemFatura.cartao="true"===this.ItemFatura.cartao?"Sim":"N\xe3o",e.confirm.resolve(this.ItemFatura)},e=>console.error(e))):e.confirm.reject()}onEditConfirm(e){window.confirm("Deseja alterar este item?")?(this.ItemFatura=e.newData,this.ItemFatura.cartao="Sim"===this.ItemFatura.cartao?"true":"false",-1===this.ItemFatura.limite.toString().indexOf(",")&&(this.ItemFatura.limite=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemFatura.limite))),this.ItemFatura.descricao=this.ItemFatura.descricao.trim(),this.ItemFatura.limite=this.ItemFatura.limite.replace(/R\$/gi,"").trim(),this.faturaService.update(this.ItemFatura.id,this.ItemFatura).subscribe(()=>{this.ItemFatura.cartao="true"===this.ItemFatura.cartao?"Sim":"N\xe3o",e.confirm.resolve(this.ItemFatura)},e=>console.error(e))):e.confirm.reject()}onSearch(e=""){this.source.setFilter([{field:"carteira",search:e},{field:"diavenc",search:e},{field:"limite",search:e}],!0)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](s.a),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](j.a))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-fatura"]],decls:8,vars:2,consts:[["type","text","placeholder","Filtro",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"nb-card"),h["\u0275\u0275elementStart"](1,"nb-card-header"),h["\u0275\u0275text"](2," Faturas "),h["\u0275\u0275elementStart"](3,"input",0,1),h["\u0275\u0275listener"]("keydown.enter",function(){h["\u0275\u0275restoreView"](e);const i=h["\u0275\u0275reference"](4);return t.onSearch(i.value)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"nb-card-body"),h["\u0275\u0275elementStart"](6,"ng2-smart-table",2),h["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](7,"nb-card-footer"),h["\u0275\u0275elementEnd"]()}2&e&&(h["\u0275\u0275advance"](6),h["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[n.t,n.v,n.s,r.c,n.u],styles:[""]}),e})(),P=(()=>{class e{constructor(e){this.httpClient=e,this.endPoint="http://localhost:8081/categorias",this.httpOptions={headers:{"Content-Type":"application/json; charset=utf-8"}}}getCategorias(){return this.httpClient.get(this.endPoint+"/list").pipe(Object(l.a)(1),Object(c.a)(this.httpError))}getUser(e){return this.httpClient.get(this.endPoint+"/get/"+e).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}save(e){return this.httpClient.post(this.endPoint+"/add",e,this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}update(e,t){return this.httpClient.put(this.endPoint+"/alter/"+e,JSON.stringify(t),this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}delete(e){return this.httpClient.delete(this.endPoint+"/delete/"+e,this.httpOptions).pipe(Object(l.a)(1),Object(c.a)(this.httpError))}httpError(e){let t="";return t=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(t),Object(o.a)(t)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275inject"](u.a))},e.\u0275prov=h["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=i("c23f");function k(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"nb-option",27),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275propertyInterpolate"]("value",e.id),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](e.descricao)}}let N=(()=>{class e{constructor(e,t,i,n,a){this.service=e,this.http=t,this.despesaService=i,this.faturaService=n,this.categoriaService=a,this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{vencimento:{title:"Compra/Venc",type:"string",filter:!1},descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1},valor:{title:"Valor",type:"html",class:"smart-column-left",filter:!1,editor:{type:"custom",component:O}},numparc:{title:"N\xba Parc",type:"string",filter:!1},qtdeparc:{title:"Qtde Parc",type:"string",filter:!1},categoria:{title:"Categoria",type:"html",filter:!1,editor:{type:"list",config:{list:[]}}},fixa:{title:"Fixa",type:"html",filter:!1,editor:{type:"checkbox",config:{true:"Sim",false:"N\xe3o",resetText:"clear"}}}},pager:{display:!1}},this.source=new r.b,this.totalDespesas="0,00",this.faturaoption="",this.mesref="05",this.anoref="2021",this.onPesquisaDespesas(),n.getFaturas().subscribe(e=>{this.faturasSelect=e}),a.getCategorias().subscribe(e=>{this.ResultGetCategorias=e;const t=[];Array.from(this.ResultGetCategorias).forEach(e=>{t.push({value:e.id+" - "+e.descricao,title:e.id+" - "+e.descricao})});const i=this.settings;i.columns.categoria.editor.config.list=t,this.settings=Object.assign({},i)})}ngOnInit(){}onPesquisaDespesas(){this.despesaService.getDespesas(this.faturaoption,this.mesref,this.anoref).subscribe(e=>{this.ResultGetDespesas=e;const t=[];let i=0;Array.from(this.ResultGetDespesas).forEach(e=>{e.fatura=e.fatura+" - "+e.innerfatura.descricao,e.categoria=e.categoria+" - "+e.innercategoria.descricao,e.fixa=e.fixa?"Sim":"N\xe3o",t.push(e),i+=v.converteMoedaFloat(e.valor)}),this.source.load(t),this.totalDespesas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)})}onUpdateTotalDespesa(e,t){this.source.getAll().then(i=>{let n=0;i.forEach(i=>{e.id===i.id?"ALTER"===t&&(n+=v.converteMoedaFloat(e.valor)):n+=v.converteMoedaFloat(i.valor)}),"INSERT"===t&&(n+=v.converteMoedaFloat(e.valor)),this.totalDespesas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(n)})}onDeleteConfirm(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemDespesa=e.data,this.despesaService.delete(this.ItemDespesa.id).subscribe(()=>{e.confirm.resolve(),this.onUpdateTotalDespesa(this.ItemDespesa,"DELETE")},e=>console.error(e))):e.confirm.reject()}onCreateConfirm(e){if(window.confirm("Deseja Salvar este item?")){this.ItemDespesa=e.newData,this.ItemDespesa.fatura=this.faturaoption,this.ItemDespesa.anofat=this.anoref,this.ItemDespesa.mesfat=this.mesref;const t=this.ItemDespesa.categoria,i=this.ItemDespesa.categoria.split("-");this.ItemDespesa.categoria=i[0].trim(),this.ItemDespesa.fixa="Sim"===this.ItemDespesa.fixa?"true":"false",this.ItemDespesa.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemDespesa.valor)),this.ItemDespesa.valor=this.ItemDespesa.valor.replace(/R\$/gi,"").trim(),this.despesaService.save(this.ItemDespesa).subscribe(i=>{this.ItemDespesa.id=i.id,this.ItemDespesa.categoria=t,this.ItemDespesa.fixa=this.ItemDespesa.fixa?"Sim":"N\xe3o",e.confirm.resolve(this.ItemDespesa),this.onUpdateTotalDespesa(this.ItemDespesa,"INSERT")},e=>console.error(e))}else e.confirm.reject()}onEditConfirm(e){if(window.confirm("Deseja alterar este item?")){this.ItemDespesa=e.newData,this.ItemDespesa.fatura=this.faturaoption,this.ItemDespesa.anofat=this.anoref,this.ItemDespesa.mesfat=this.mesref;const t=this.ItemDespesa.categoria,i=this.ItemDespesa.categoria.split("-");this.ItemDespesa.categoria=i[0].trim(),this.ItemDespesa.fixa="Sim"===this.ItemDespesa.fixa?"true":"false",this.ItemDespesa.descricao=this.ItemDespesa.descricao.trim(),-1===this.ItemDespesa.valor.toString().indexOf(",")&&(this.ItemDespesa.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemDespesa.valor))),this.ItemDespesa.valor=this.ItemDespesa.valor.replace(/R\$/gi,"").trim(),null!==this.ItemDespesa.innerfatura&&(void 0!==this.ItemDespesa.innerfatura.limite&&(this.ItemDespesa.innerfatura.limite=this.ItemDespesa.innerfatura.limite.replace(/R\$/gi,"").trim()),void 0!==this.ItemDespesa.innerfatura.valor&&(this.ItemDespesa.innerfatura.valor=this.ItemDespesa.innerfatura.valor.replace(/R\$/gi,"").trim())),this.despesaService.save(this.ItemDespesa).subscribe(()=>{this.ItemDespesa.categoria=t,this.ItemDespesa.fixa=this.ItemDespesa.fixa?"Sim":"N\xe3o",e.confirm.resolve(this.ItemDespesa),this.onUpdateTotalDespesa(this.ItemDespesa,"ALTER")},e=>console.error(e))}else e.confirm.reject()}onSearch(e=""){this.source.setFilter([{field:"vencimento",search:e},{field:"descricao",search:e},{field:"valor",search:e},{field:"numparc",search:e},{field:"qtdeparc",search:e},{field:"categoria",search:e}],!0)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](s.a),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](F.a),h["\u0275\u0275directiveInject"](j.a),h["\u0275\u0275directiveInject"](P))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-despesa"]],decls:51,vars:7,consts:[[1,"row"],[1,"col-lg-auto"],["matRipple","",2,"width","350px",3,"ngModel","ngModelChange"],["matRipple","",3,"value",4,"ngFor","ngForOf"],["matRipple","",2,"width","200px",3,"ngModel","ngModelChange"],["matRipple","","value","01"],["matRipple","","value","02"],["matRipple","","value","03"],["matRipple","","value","04"],["matRipple","","value","05"],["matRipple","","value","06"],["matRipple","","value","07"],["matRipple","","value","08"],["matRipple","","value","09"],["matRipple","","value","10"],["matRipple","","value","11"],["matRipple","","value","12"],[1,"col-lg-1"],["type","text","nbInput","","fullWidth","","placeholder","Ano","maxlength","4",1,"p-2",3,"ngModel","ngModelChange"],["size","medium","fullWidth",""],["matRipple","",2,"cursor","pointer",3,"click"],["icon","search-outline",1,"action-icon"],["type","text","placeholder","Filtro",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"],[1,"text-info"],["id","smart-total-receita",3,"innerHTML"],["matRipple","",3,"value"]],template:function(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"nb-card"),h["\u0275\u0275elementStart"](1,"nb-card-header"),h["\u0275\u0275text"](2,"Despesas"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"nb-card-body"),h["\u0275\u0275elementStart"](4,"div",0),h["\u0275\u0275elementStart"](5,"div",1),h["\u0275\u0275elementStart"](6,"nb-select",2),h["\u0275\u0275listener"]("ngModelChange",function(e){return t.faturaoption=e}),h["\u0275\u0275template"](7,k,2,2,"nb-option",3),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"div",1),h["\u0275\u0275elementStart"](9,"nb-select",4),h["\u0275\u0275listener"]("ngModelChange",function(e){return t.mesref=e}),h["\u0275\u0275elementStart"](10,"nb-option",5),h["\u0275\u0275text"](11,"Janeiro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](12,"nb-option",6),h["\u0275\u0275text"](13,"Fevereiro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](14,"nb-option",7),h["\u0275\u0275text"](15,"Mar\xe7o"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](16,"nb-option",8),h["\u0275\u0275text"](17,"Abril"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](18,"nb-option",9),h["\u0275\u0275text"](19,"Maio"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](20,"nb-option",10),h["\u0275\u0275text"](21,"Junho"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](22,"nb-option",11),h["\u0275\u0275text"](23,"Julho"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](24,"nb-option",12),h["\u0275\u0275text"](25,"Agosto"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](26,"nb-option",13),h["\u0275\u0275text"](27,"Setembro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](28,"nb-option",14),h["\u0275\u0275text"](29,"Outubro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](30,"nb-option",15),h["\u0275\u0275text"](31,"Novembro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](32,"nb-option",16),h["\u0275\u0275text"](33,"Dezembro"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](34,"div",17),h["\u0275\u0275elementStart"](35,"input",18),h["\u0275\u0275listener"]("ngModelChange",function(e){return t.anoref=e}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](36,"nb-actions",19),h["\u0275\u0275elementStart"](37,"nb-action",20),h["\u0275\u0275listener"]("click",function(){return t.onPesquisaDespesas()}),h["\u0275\u0275element"](38,"nb-icon",21),h["\u0275\u0275elementStart"](39,"span"),h["\u0275\u0275text"](40,"Pesquisar"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](41,"nb-card"),h["\u0275\u0275elementStart"](42,"nb-card-header"),h["\u0275\u0275elementStart"](43,"input",22,23),h["\u0275\u0275listener"]("keydown.enter",function(){h["\u0275\u0275restoreView"](e);const i=h["\u0275\u0275reference"](44);return t.onSearch(i.value)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](45,"nb-card-body"),h["\u0275\u0275elementStart"](46,"ng2-smart-table",24),h["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](47,"nb-card-footer"),h["\u0275\u0275elementStart"](48,"label",25),h["\u0275\u0275text"](49,"Total: \xa0"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](50,"label",26),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}2&e&&(h["\u0275\u0275advance"](6),h["\u0275\u0275property"]("ngModel",t.faturaoption),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",t.faturasSelect),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngModel",t.mesref),h["\u0275\u0275advance"](26),h["\u0275\u0275property"]("ngModel",t.anoref),h["\u0275\u0275advance"](11),h["\u0275\u0275property"]("settings",t.settings)("source",t.source),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("innerHTML",t.totalDespesas,h["\u0275\u0275sanitizeHtml"]))},directives:[n.t,n.v,n.s,n.bb,b.b,C.k,C.n,S.m,n.W,n.I,C.b,C.f,n.m,n.l,n.F,r.c,n.u],styles:["ng2-smart-table tbody tr td:nth-child(3) div.ng-star-inserted{text-align:right}"]}),e})();const T=[{path:"",component:f,children:[{path:"carteira",component:d},{path:"categoria",component:(()=>{class e{constructor(e,t,i){this.service=e,this.http=t,this.categoriaService=i,this.DataCategorias=[],this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1}},pager:{display:!1}},this.source=new r.b,i.getCategorias().subscribe(e=>{this.DataCategorias=e,this.source.load(this.DataCategorias)})}onDeleteConfirm(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemCategoria=e.data,this.categoriaService.delete(this.ItemCategoria.id).subscribe(()=>{e.confirm.resolve()},e=>console.error(e))):e.confirm.reject()}onCreateConfirm(e){window.confirm("Deseja Salvar este item?")?(this.ItemCategoria=e.newData,this.categoriaService.save(this.ItemCategoria).subscribe(t=>{this.ItemCategoria.id=t.id,e.confirm.resolve(this.ItemCategoria)},e=>console.error(e))):e.confirm.reject()}onEditConfirm(e){window.confirm("Deseja alterar este item?")?(this.ItemCategoria=e.newData,this.categoriaService.save(this.ItemCategoria).subscribe(()=>{e.confirm.resolve()},e=>console.error(e))):e.confirm.reject()}onSearch(e=""){this.source.setFilter([{field:"descricao",search:e}],!1)}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](s.a),h["\u0275\u0275directiveInject"](u.a),h["\u0275\u0275directiveInject"](P))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-categoria"]],decls:7,vars:2,consts:[["type","text","placeholder","Pesquisar",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"nb-card"),h["\u0275\u0275elementStart"](1,"nb-card-header"),h["\u0275\u0275text"](2," Categorias "),h["\u0275\u0275elementStart"](3,"input",0,1),h["\u0275\u0275listener"]("keydown.enter",function(){h["\u0275\u0275restoreView"](e);const i=h["\u0275\u0275reference"](4);return t.onSearch(i.value)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"nb-card-body"),h["\u0275\u0275elementStart"](6,"ng2-smart-table",2),h["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}2&e&&(h["\u0275\u0275advance"](6),h["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[n.t,n.v,n.s,r.c],styles:[""]}),e})()},{path:"despesa",component:N},{path:"fatura",component:V},{path:"receita",component:M}]}];let B=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[p.g.forChild(T)],p.g]}),e})();const A={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"",thousands:"."};let _=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[{provide:I,useValue:A}],imports:[[n.w,n.xb,n.H,n.J,a.a,B,r.d,C.e,D,n.cb,n.n]]}),e})()}}]);