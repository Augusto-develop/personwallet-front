!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,a=i(e);if(t){var o=i(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return n(this,r)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8VcE":function(n,i,a){"use strict";a.r(i),a.d(i,"CustomCurrencyMaskConfig",function(){return ie}),a.d(i,"CadastroModule",function(){return re});var s,c,l,u,h,m,d,p,f,v,g,b=a("aceb"),y=a("RS3s"),C=a("vTDv"),S=a("sRfN"),I=a("z6cu"),E=a("un/a"),w=a("JIr8"),k=a("fXoL"),R=a("tk/3"),x=((c=function(){function e(t){r(this,e),this.httpClient=t,this.endPoint="http://localhost:8081/carteiras",this.httpOptions={headers:{"Content-Type":"application/json; charset=utf-8"}}}return o(e,[{key:"getCarteiras",value:function(){return this.httpClient.get(this.endPoint+"/list").pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"getUser",value:function(e){return this.httpClient.get(this.endPoint+"/get/"+e).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"save",value:function(e){return this.httpClient.post(this.endPoint+"/add",e,this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"update",value:function(e,t){return this.httpClient.put(this.endPoint+"/alter/"+e,JSON.stringify(t),this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"delete",value:function(e){return this.httpClient.delete(this.endPoint+"/delete/"+e,this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"httpError",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),Object(I.a)(t)}}]),e}()).\u0275fac=function(e){return new(e||c)(k["\u0275\u0275inject"](R.a))},c.\u0275prov=k["\u0275\u0275defineInjectable"]({token:c,factory:c.\u0275fac,providedIn:"root"}),c),O=((s=function(){function e(t,n,i){var a=this;r(this,e),this.service=t,this.http=n,this.carteiraService=i,this.DataCarteiras=[],this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1}},pager:{display:!1}},this.source=new y.b,i.getCarteiras().subscribe(function(e){a.DataCarteiras=e,a.source.load(a.DataCarteiras)})}return o(e,[{key:"onDeleteConfirm",value:function(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemCarteira=e.data,this.carteiraService.delete(this.ItemCarteira.id).subscribe(function(){e.confirm.resolve()},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onCreateConfirm",value:function(e){var t=this;window.confirm("Deseja Salvar este item?")?(this.ItemCarteira=e.newData,this.carteiraService.save(this.ItemCarteira).subscribe(function(n){t.ItemCarteira.id=n.id,e.confirm.resolve(t.ItemCarteira)},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onEditConfirm",value:function(e){window.confirm("Deseja alterar este item?")?(this.ItemCarteira=e.newData,this.carteiraService.save(this.ItemCarteira).subscribe(function(){e.confirm.resolve()},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.source.setFilter([{field:"descricao",search:e}],!1)}}]),e}()).\u0275fac=function(e){return new(e||s)(k["\u0275\u0275directiveInject"](S.a),k["\u0275\u0275directiveInject"](R.a),k["\u0275\u0275directiveInject"](x))},s.\u0275cmp=k["\u0275\u0275defineComponent"]({type:s,selectors:[["ngx-carteira"]],decls:7,vars:2,consts:[["type","text","placeholder","Pesquisar",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-card"),k["\u0275\u0275elementStart"](1,"nb-card-header"),k["\u0275\u0275text"](2," Carteiras "),k["\u0275\u0275elementStart"](3,"input",0,1),k["\u0275\u0275listener"]("keydown.enter",function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](4);return t.onSearch(e.value)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](5,"nb-card-body"),k["\u0275\u0275elementStart"](6,"ng2-smart-table",2),k["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"]()}2&e&&(k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[b.t,b.v,b.s,y.c],styles:[""]}),s),D=a("tyNb"),M=((h=function e(){r(this,e)}).\u0275fac=function(e){return new(e||h)},h.\u0275cmp=k["\u0275\u0275defineComponent"]({type:h,selectors:[["ngx-cadastro"]],decls:1,vars:0,template:function(e,t){1&e&&k["\u0275\u0275element"](0,"router-outlet")},directives:[D.h],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-default   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-cosmic   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-cosmic   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-corporate   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-corporate   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-dark   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-dark   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}.nb-theme-material-light   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{transform:translateZ(0)}[dir=ltr]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   .nb-theme-material-light   [_nghost-%COMP%]   .action-icon[_ngcontent-%COMP%]{margin-left:.5rem}  input.form-control,   select.form-control{color:#495057!important}  .smart-column-left{text-align:right}"]}),h),j=((u=function(){function e(t){r(this,e),this.httpClient=t,this.endPoint="http://localhost:8081/receitas",this.httpOptions={headers:{"Content-Type":"application/json; charset=utf-8"}}}return o(e,[{key:"getReceitas",value:function(e,t){return this.httpClient.get(this.endPoint+"/list/"+e+"/"+t).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"getUser",value:function(e){return this.httpClient.get(this.endPoint+"/get/"+e).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"save",value:function(e){return this.httpClient.post(this.endPoint+"/add",e,this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"update",value:function(e,t){return this.httpClient.put(this.endPoint+"/alter/"+e,JSON.stringify(t),this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"delete",value:function(e){return this.httpClient.delete(this.endPoint+"/delete/"+e,this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"httpError",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),Object(I.a)(t)}}]),e}()).\u0275fac=function(e){return new(e||u)(k["\u0275\u0275inject"](R.a))},u.\u0275prov=k["\u0275\u0275defineInjectable"]({token:u,factory:u.\u0275fac,providedIn:"root"}),u),P=((l=function(){function e(){r(this,e)}return o(e,null,[{key:"converteMoedaFloat",value:function(e){return e=""===e?"0":(e=e.replace(".","")).replace(",","."),parseFloat(e)}},{key:"zeroesq",value:function(e,t){var n=e.length;if(n<t)for(var i=t-n,r=0;r<i;r++)e="0"+e;return e}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275prov=k["\u0275\u0275defineInjectable"]({token:l,factory:l.\u0275fac,providedIn:"root"}),l),V=a("FKr1"),F=a("3Pt+"),T=a("ofXK"),N=new k.InjectionToken("currency.mask.config"),B=function(){function e(t){r(this,e),this.htmlInputElement=t}return o(e,[{key:"setCursorAt",value:function(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){var t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}},{key:"updateValueAndCursor",value:function(e,t,n){this.rawValue=e,this.setCursorAt(n-=t-e.length)}},{key:"canInputMoreNumbers",get:function(){var e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd,i=!(t==n||!this.htmlInputElement.value.substring(t,n).match(/\d/)),r="0"==this.htmlInputElement.value.substring(0,1);return e||i||r}},{key:"inputSelection",get:function(){var e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{var n=document.getSelection().anchorNode;if(n&&n.firstChild==this.htmlInputElement){var i=this.htmlInputElement.value.length,r=this.htmlInputElement.value.replace(/\r\n/g,"\n"),a=this.htmlInputElement.createTextRange(),o=this.htmlInputElement.createTextRange();o.collapse(!1),a.compareEndPoints("StartToEnd",o)>-1?e=t=i:(e=-a.moveStart("character",-i),e+=r.slice(0,e).split("\n").length-1,a.compareEndPoints("EndToEnd",o)>-1?t=i:(t=-a.moveEnd("character",-i),t+=r.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}},{key:"rawValue",get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}},{key:"storedRawValue",get:function(){return this._storedRawValue}}]),e}(),_=function(){function e(t,n){r(this,e),this.htmlInputElement=t,this.options=n,this.inputManager=new B(t)}return o(e,[{key:"addNumber",value:function(e){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));var t=String.fromCharCode(e),n=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,n)+t+this.rawValue.substring(i,this.rawValue.length),this.updateFieldValue(n+1)}},{key:"applyMask",value:function(e,t){var n=this.options,i=n.allowNegative,r=n.decimal,a=n.precision,o=n.prefix,s=n.suffix,c=n.thousands,l=(t=e?new Number(t).toFixed(a):t).replace(/[^0-9]/g,"");if(!l)return"";var u=l.slice(0,l.length-a).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,c);""==u&&(u="0");var h=u,m=l.slice(l.length-a);a>0&&(h+=r+(m="0".repeat(a-m.length)+m));var d=0==parseInt(u)&&(0==parseInt(m)||""==m);return(t.indexOf("-")>-1&&i&&!d?"-":"")+o+h+s}},{key:"clearMask",value:function(e){if(null==e||""==e)return null;var t=e.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),parseFloat(t)}},{key:"changeToNegative",value:function(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){var e=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(e+1)}}},{key:"changeToPositive",value:function(){var e=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(e-1)}},{key:"fixCursorPosition",value:function(e){var t=this.inputSelection.selectionStart;t>this.getRawValueWithoutSuffixEndPosition()||e?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):t<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}},{key:"getRawValueWithoutSuffixEndPosition",value:function(){return this.rawValue.length-this.options.suffix.length}},{key:"getRawValueWithoutPrefixStartPosition",value:function(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}},{key:"removeNumber",value:function(e){var t=this.options,n=t.decimal,i=t.thousands,r=this.inputSelection.selectionEnd,a=this.inputSelection.selectionStart;a>this.rawValue.length-this.options.suffix.length&&(r=this.rawValue.length-this.options.suffix.length,a=this.rawValue.length-this.options.suffix.length),r==a&&(46!=e&&63272!=e||!/^\d+$/.test(this.rawValue.substring(a,r+1))||(r+=1),46!=e&&63272!=e||this.rawValue.substring(a,r+1)!=n&&this.rawValue.substring(a,r+1)!=i||(r+=2,a+=1),8==e&&/^\d+$/.test(this.rawValue.substring(a-1,r))&&(a-=1),8!=e||this.rawValue.substring(a-1,r)!=n&&this.rawValue.substring(a-1,r)!=i||(a-=2,r-=1)),this.rawValue=this.rawValue.substring(0,a)+this.rawValue.substring(r,this.rawValue.length),this.updateFieldValue(a)}},{key:"updateFieldValue",value:function(e){var t=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(t,this.rawValue.length,e=null==e?this.rawValue.length:e)}},{key:"updateOptions",value:function(e){var t=this.value;this.options=e,this.value=t}},{key:"canInputMoreNumbers",get:function(){return this.inputManager.canInputMoreNumbers}},{key:"inputSelection",get:function(){return this.inputManager.inputSelection}},{key:"rawValue",get:function(){return this.inputManager.rawValue},set:function(e){this.inputManager.rawValue=e}},{key:"storedRawValue",get:function(){return this.inputManager.storedRawValue}},{key:"value",get:function(){return this.clearMask(this.rawValue)},set:function(e){this.rawValue=this.applyMask(!0,""+e)}}]),e}(),A=function(){function e(t,n){r(this,e),this.inputService=new _(t,n),this.htmlInputElement=t}return o(e,[{key:"handleClick",value:function(e,t){0!=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)||isNaN(this.inputService.value)||this.inputService.fixCursorPosition(t)}},{key:"handleCut",value:function(e){var t=this;this.isReadOnly()||setTimeout(function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)},0)}},{key:"handleInput",value:function(e){if(!this.isReadOnly()){var t=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),n=this.inputService.rawValue.length,i=this.inputService.inputSelection.selectionEnd,r=this.inputService.getRawValueWithoutSuffixEndPosition(),a=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,i==r&&1==Math.abs(n-a)||0==a){if(n<a&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),n>a)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/))return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}}},{key:"handleKeydown",value:function(e){if(!this.isReadOnly()){var t=e.which||e.charCode||e.keyCode;if(8==t||46==t||63272==t){e.preventDefault();var n=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);n!=this.inputService.rawValue.length&&0!=this.inputService.value||(this.setValue(null),this.onModelChange(this.inputService.value)),0!=n||isNaN(this.inputService.value)||(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),8!==t&&46!==t||0==n||isNaN(this.inputService.value)||(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value))}}}},{key:"handleKeypress",value:function(e){if(!this.isReadOnly()){var t=e.which||e.charCode||e.keyCode;if(null!=t&&-1==[9,13].indexOf(t)&&!this.isArrowEndHomeKeyInFirefox(e)){switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/)||this.inputService.addNumber(t)}e.preventDefault(),this.onModelChange(this.inputService.value)}}}},{key:"handleKeyup",value:function(e){this.inputService.fixCursorPosition()}},{key:"handlePaste",value:function(e){var t=this;this.isReadOnly()||setTimeout(function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)},1)}},{key:"updateOptions",value:function(e){this.inputService.updateOptions(e)}},{key:"getOnModelChange",value:function(){return this.onModelChange}},{key:"setOnModelChange",value:function(e){this.onModelChange=e}},{key:"getOnModelTouched",value:function(){return this.onModelTouched}},{key:"setOnModelTouched",value:function(e){this.onModelTouched=e}},{key:"setValue",value:function(e){this.inputService.value=e}},{key:"getNewKeyCode",value:function(e,t){if(e.length>t.length)return null;for(var n=0;n<t.length;n++)if(e.length==n||e[n]!=t[n])return t.charCodeAt(n)}},{key:"isArrowEndHomeKeyInFirefox",value:function(e){return-1!=[35,36,37,38,39,40].indexOf(e.keyCode)&&(null==e.charCode||0==e.charCode)}},{key:"isReadOnly",value:function(){return this.htmlInputElement&&this.htmlInputElement.readOnly}},{key:"setCursorPosition",value:function(e){var t=this.inputService.getRawValueWithoutSuffixEndPosition();setTimeout(function(){e.target.setSelectionRange(t,t)},0)}}]),e}(),L={provide:F.i,useExisting:Object(k.forwardRef)(function(){return q}),multi:!0},q=((f=function(){function e(t,n,i){r(this,e),this.currencyMaskConfig=t,this.elementRef=n,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},t&&(this.optionsTemplate=t),this.keyValueDiffer=i.find({}).create()}return o(e,[{key:"ngAfterViewInit",value:function(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}},{key:"ngDoCheck",value:function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}},{key:"ngOnInit",value:function(){this.inputHandler=new A(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}},{key:"handleBlur",value:function(e){this.inputHandler.getOnModelTouched().apply(e)}},{key:"handleClick",value:function(e){this.inputHandler.handleClick(e,this.isChromeAndroid())}},{key:"handleCut",value:function(e){this.isChromeAndroid()||this.inputHandler.handleCut(e)}},{key:"handleInput",value:function(e){this.isChromeAndroid()&&this.inputHandler.handleInput(e)}},{key:"handleKeydown",value:function(e){this.isChromeAndroid()||this.inputHandler.handleKeydown(e)}},{key:"handleKeypress",value:function(e){this.isChromeAndroid()||this.inputHandler.handleKeypress(e)}},{key:"handleKeyup",value:function(e){this.isChromeAndroid()||this.inputHandler.handleKeyup(e)}},{key:"handlePaste",value:function(e){this.isChromeAndroid()||this.inputHandler.handlePaste(e)}},{key:"isChromeAndroid",value:function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}},{key:"registerOnChange",value:function(e){this.inputHandler.setOnModelChange(e)}},{key:"registerOnTouched",value:function(e){this.inputHandler.setOnModelTouched(e)}},{key:"setDisabledState",value:function(e){this.elementRef.nativeElement.disabled=e}},{key:"validate",value:function(e){var t={};return e.value>this.max&&(t.max=!0),e.value<this.min&&(t.min=!0),t!={}?t:null}},{key:"writeValue",value:function(e){this.inputHandler.setValue(e)}}]),e}()).\u0275fac=function(e){return new(e||f)(k["\u0275\u0275directiveInject"](N,8),k["\u0275\u0275directiveInject"](k.ElementRef),k["\u0275\u0275directiveInject"](k.KeyValueDiffers))},f.\u0275dir=k["\u0275\u0275defineDirective"]({type:f,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&k["\u0275\u0275listener"]("blur",function(e){return t.handleBlur(e)})("click",function(e){return t.handleClick(e)})("cut",function(e){return t.handleCut(e)})("input",function(e){return t.handleInput(e)})("keydown",function(e){return t.handleKeydown(e)})("keypress",function(e){return t.handleKeypress(e)})("keyup",function(e){return t.handleKeyup(e)})("paste",function(e){return t.handlePaste(e)})},inputs:{options:"options",max:"max",min:"min"},features:[k["\u0275\u0275ProvidersFeature"]([L,{provide:F.h,useExisting:f,multi:!0}])]}),f),H=((p=function e(){r(this,e)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||p)},imports:[[T.c,F.e]]}),p),K=((d=function(){function e(t,n,i,a){var o=this;r(this,e),this.service=t,this.http=n,this.receitaService=i,this.carteiraService=a,this.mask=["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1},datareceb:{title:"Dia",type:"string",filter:!1},valor:{title:"Valor",type:"html",class:"smart-column-left",filter:!1,editor:{type:"custom",component:z}},carteira:{title:"Carteira",type:"html",filter:!1,editor:{type:"list",config:{list:[]}}},fixa:{title:"Fixa",type:"html",filter:!1,editor:{type:"checkbox",config:{true:"Sim",false:"N\xe3o",resetText:"clear"}}}},pager:{display:!1}},this.source=new y.b,this.totalReceitas="0,00",this.mesref="05",this.anoref="2021",this.onPesquisaReceitas(),a.getCarteiras().subscribe(function(e){o.ResultGetCarteiras=e;var t=[];Array.from(o.ResultGetCarteiras).forEach(function(e){t.push({value:e.id+" - "+e.descricao,title:e.id+" - "+e.descricao})});var n=o.settings;n.columns.carteira.editor.config.list=t,o.settings=Object.assign({},n)})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"onPesquisaReceitas",value:function(){var e=this;this.receitaService.getReceitas(this.mesref,this.anoref).subscribe(function(t){e.ResultGetReceitas=t;var n=[],i=0;Array.from(e.ResultGetReceitas).forEach(function(e){e.carteira=e.carteira+" - "+e.innercarteira.descricao,e.fixa=e.fixa?"Sim":"N\xe3o",e.datareceb=e.datareceb.substr(0,2),n.push(e),i+=P.converteMoedaFloat(e.valor)}),e.source.load(n),e.totalReceitas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)})}},{key:"onUpdateTotalReceita",value:function(e,t){var n=this;this.source.getAll().then(function(i){var r=0;i.forEach(function(n){e.id===n.id?"ALTER"===t&&(r+=P.converteMoedaFloat(e.valor)):r+=P.converteMoedaFloat(n.valor)}),"INSERT"===t&&(r+=P.converteMoedaFloat(e.valor)),n.totalReceitas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)})}},{key:"onDeleteConfirm",value:function(e){var t=this;window.confirm("Tem certeza de que deseja excluir?")?(this.ItemReceita=e.data,this.receitaService.delete(this.ItemReceita.id).subscribe(function(){e.confirm.resolve(),t.onUpdateTotalReceita(t.ItemReceita,"DELETE")},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onCreateConfirm",value:function(e){var t=this;if(window.confirm("Deseja Salvar este item?")){this.ItemReceita=e.newData;var n=this.ItemReceita.carteira,i=this.ItemReceita.carteira.split("-");this.ItemReceita.carteira=i[0].trim(),this.ItemReceita.fixa="Sim"===this.ItemReceita.fixa?"true":"false",this.ItemReceita.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemReceita.valor)),this.ItemReceita.valor=this.ItemReceita.valor.replace(/R\$/gi,"").trim(),this.ItemReceita.datareceb=P.zeroesq(this.ItemReceita.datareceb,2)+"/"+this.mesref+"/"+this.anoref,this.receitaService.save(this.ItemReceita).subscribe(function(i){t.ItemReceita.id=i.id,t.ItemReceita.carteira=n,t.ItemReceita.fixa=t.ItemReceita.fixa?"Sim":"N\xe3o",t.ItemReceita.datareceb=t.ItemReceita.datareceb.substr(0,2),e.confirm.resolve(t.ItemReceita),t.onUpdateTotalReceita(t.ItemReceita,"INSERT")},function(e){return console.error(e)})}else e.confirm.reject()}},{key:"onEditConfirm",value:function(e){var t=this;if(window.confirm("Deseja alterar este item?")){this.ItemReceita=e.newData;var n=this.ItemReceita.carteira,i=this.ItemReceita.carteira.split("-");this.ItemReceita.carteira=i[0].trim(),this.ItemReceita.fixa="Sim"===this.ItemReceita.fixa?"true":"false",this.ItemReceita.descricao=this.ItemReceita.descricao.trim(),-1===this.ItemReceita.valor.toString().indexOf(",")&&(this.ItemReceita.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemReceita.valor))),this.ItemReceita.datareceb=P.zeroesq(this.ItemReceita.datareceb,2)+"/"+this.mesref+"/"+this.anoref,this.ItemReceita.valor=this.ItemReceita.valor.replace(/R\$/gi,"").trim(),this.receitaService.save(this.ItemReceita).subscribe(function(){t.ItemReceita.carteira=n,t.ItemReceita.fixa=t.ItemReceita.fixa?"Sim":"N\xe3o",t.ItemReceita.datareceb=t.ItemReceita.datareceb.substr(0,2),e.confirm.resolve(t.ItemReceita),t.onUpdateTotalReceita(t.ItemReceita,"ALTER")},function(e){return console.error(e)})}else e.confirm.reject()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.source.setFilter([{field:"carteira",search:e},{field:"descricao",search:e},{field:"datareceb",search:e},{field:"valor",search:e}],!0)}}]),e}()).\u0275fac=function(e){return new(e||d)(k["\u0275\u0275directiveInject"](S.a),k["\u0275\u0275directiveInject"](R.a),k["\u0275\u0275directiveInject"](j),k["\u0275\u0275directiveInject"](x))},d.\u0275cmp=k["\u0275\u0275defineComponent"]({type:d,selectors:[["ngx-receita"]],decls:48,vars:5,consts:[[1,"row"],[1,"col-lg-auto"],["matRipple","",2,"width","200px",3,"ngModel","ngModelChange"],["matRipple","","value","01"],["matRipple","","value","02"],["matRipple","","value","03"],["matRipple","","value","04"],["matRipple","","value","05"],["matRipple","","value","06"],["matRipple","","value","07"],["matRipple","","value","08"],["matRipple","","value","09"],["matRipple","","value","10"],["matRipple","","value","11"],["matRipple","","value","12"],[1,"col-lg-1"],["type","text","nbInput","","fullWidth","","placeholder","Ano","maxlength","4",1,"p-2",3,"ngModel","ngModelChange"],["size","medium","fullWidth",""],["matRipple","",2,"cursor","pointer",3,"click"],["icon","search-outline",1,"action-icon"],["type","text","placeholder","Filtro",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"],[1,"text-info"],["id","smart-total-receita",3,"innerHTML"]],template:function(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-card"),k["\u0275\u0275elementStart"](1,"nb-card-header"),k["\u0275\u0275text"](2,"Receitas"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](3,"nb-card-body"),k["\u0275\u0275elementStart"](4,"div",0),k["\u0275\u0275elementStart"](5,"div",1),k["\u0275\u0275elementStart"](6,"nb-select",2),k["\u0275\u0275listener"]("ngModelChange",function(e){return t.mesref=e}),k["\u0275\u0275elementStart"](7,"nb-option",3),k["\u0275\u0275text"](8,"Janeiro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](9,"nb-option",4),k["\u0275\u0275text"](10,"Fevereiro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](11,"nb-option",5),k["\u0275\u0275text"](12,"Mar\xe7o"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](13,"nb-option",6),k["\u0275\u0275text"](14,"Abril"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](15,"nb-option",7),k["\u0275\u0275text"](16,"Maio"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](17,"nb-option",8),k["\u0275\u0275text"](18,"Junho"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](19,"nb-option",9),k["\u0275\u0275text"](20,"Julho"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](21,"nb-option",10),k["\u0275\u0275text"](22,"Agosto"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](23,"nb-option",11),k["\u0275\u0275text"](24,"Setembro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](25,"nb-option",12),k["\u0275\u0275text"](26,"Outubro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](27,"nb-option",13),k["\u0275\u0275text"](28,"Novembro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](29,"nb-option",14),k["\u0275\u0275text"](30,"Dezembro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](31,"div",15),k["\u0275\u0275elementStart"](32,"input",16),k["\u0275\u0275listener"]("ngModelChange",function(e){return t.anoref=e}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](33,"nb-actions",17),k["\u0275\u0275elementStart"](34,"nb-action",18),k["\u0275\u0275listener"]("click",function(){return t.onPesquisaReceitas()}),k["\u0275\u0275element"](35,"nb-icon",19),k["\u0275\u0275elementStart"](36,"span"),k["\u0275\u0275text"](37,"Pesquisar"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](38,"nb-card"),k["\u0275\u0275elementStart"](39,"nb-card-header"),k["\u0275\u0275elementStart"](40,"input",20,21),k["\u0275\u0275listener"]("keydown.enter",function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](41);return t.onSearch(e.value)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](42,"nb-card-body"),k["\u0275\u0275elementStart"](43,"ng2-smart-table",22),k["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](44,"nb-card-footer"),k["\u0275\u0275elementStart"](45,"label",23),k["\u0275\u0275text"](46,"Total: \xa0"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275element"](47,"label",24),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"]()}2&e&&(k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("ngModel",t.mesref),k["\u0275\u0275advance"](26),k["\u0275\u0275property"]("ngModel",t.anoref),k["\u0275\u0275advance"](11),k["\u0275\u0275property"]("settings",t.settings)("source",t.source),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("innerHTML",t.totalReceitas,k["\u0275\u0275sanitizeHtml"]))},directives:[b.t,b.v,b.s,b.bb,V.b,F.k,F.n,b.W,b.I,F.b,F.f,b.m,b.l,b.F,y.c,b.u],styles:["ng2-smart-table tbody tr td:nth-child(3) div.ng-star-inserted{text-align:right}"]}),d),z=((m=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(a,n);var i=t(a);function a(){return r(this,a),i.call(this)}return a}(y.a)).\u0275fac=function(e){return new(e||m)},m.\u0275cmp=k["\u0275\u0275defineComponent"]({type:m,selectors:[["ngx-input-editor"]],features:[k["\u0275\u0275InheritDefinitionFeature"]],decls:1,vars:4,consts:[["currencyMask","","type","text","maxlength","12",1,"form-control","ng-pristine","ng-valid","ng-touched",3,"ngModel","placeholder","name","disabled","ngModelChange","click","keydown.enter","keydown.esc"]],template:function(e,t){1&e&&(k["\u0275\u0275elementStart"](0,"input",0),k["\u0275\u0275listener"]("ngModelChange",function(e){return t.cell.newValue=e})("click",function(e){return t.onClick.emit(e)})("keydown.enter",function(e){return t.onEdited.emit(e)})("keydown.esc",function(){return t.onStopEditing.emit()}),k["\u0275\u0275elementEnd"]()),2&e&&k["\u0275\u0275property"]("ngModel",t.cell.newValue)("placeholder",t.cell.getValue())("name",t.cell.getId())("disabled",!t.cell.isEditable())},directives:[F.b,q,F.f,F.k,F.n],encapsulation:2}),m),W=a("daZI"),J=((g=function(){function e(t,n,i){r(this,e),this.service=t,this.http=n,this.faturaService=i,this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1},diavenc:{title:"Dia de Vencimento",type:"string",filter:!1},limite:{title:"Limite",type:"html",class:"smart-column-left",filter:!1,editor:{type:"custom",component:z}},cartao:{title:"Cart\xe3o de Cr\xe9dito",type:"html",filter:!1,editor:{type:"checkbox",config:{true:"Sim",false:"N\xe3o",resetText:"clear"}}}},pager:{display:!1}},this.source=new y.b,this.onPesquisaFaturas()}return o(e,[{key:"ngOnInit",value:function(){}},{key:"onPesquisaFaturas",value:function(){var e=this;this.faturaService.getFaturas().subscribe(function(t){e.ResultGetFaturas=t;var n=[];Array.from(e.ResultGetFaturas).forEach(function(e){e.cartao=e.cartao?"Sim":"N\xe3o",n.push(e)}),e.source.load(n)})}},{key:"onDeleteConfirm",value:function(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemFatura=e.data,this.faturaService.delete(this.ItemFatura.id).subscribe(function(){e.confirm.resolve()},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onCreateConfirm",value:function(e){var t=this;window.confirm("Deseja Salvar este item?")?(this.ItemFatura=e.newData,this.ItemFatura.cartao="Sim"===this.ItemFatura.cartao?"true":"false",this.ItemFatura.limite=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemFatura.limite)),this.ItemFatura.descricao=this.ItemFatura.descricao.trim(),this.ItemFatura.limite=this.ItemFatura.limite.replace(/R\$/gi,"").trim(),this.faturaService.save(this.ItemFatura).subscribe(function(n){t.ItemFatura.id=n.id,t.ItemFatura.cartao="true"===t.ItemFatura.cartao?"Sim":"N\xe3o",e.confirm.resolve(t.ItemFatura)},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onEditConfirm",value:function(e){var t=this;window.confirm("Deseja alterar este item?")?(this.ItemFatura=e.newData,this.ItemFatura.cartao="Sim"===this.ItemFatura.cartao?"true":"false",-1===this.ItemFatura.limite.toString().indexOf(",")&&(this.ItemFatura.limite=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemFatura.limite))),this.ItemFatura.descricao=this.ItemFatura.descricao.trim(),this.ItemFatura.limite=this.ItemFatura.limite.replace(/R\$/gi,"").trim(),this.faturaService.update(this.ItemFatura.id,this.ItemFatura).subscribe(function(){t.ItemFatura.cartao="true"===t.ItemFatura.cartao?"Sim":"N\xe3o",e.confirm.resolve(t.ItemFatura)},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.source.setFilter([{field:"carteira",search:e},{field:"diavenc",search:e},{field:"limite",search:e}],!0)}}]),e}()).\u0275fac=function(e){return new(e||g)(k["\u0275\u0275directiveInject"](S.a),k["\u0275\u0275directiveInject"](R.a),k["\u0275\u0275directiveInject"](W.a))},g.\u0275cmp=k["\u0275\u0275defineComponent"]({type:g,selectors:[["ngx-fatura"]],decls:8,vars:2,consts:[["type","text","placeholder","Filtro",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-card"),k["\u0275\u0275elementStart"](1,"nb-card-header"),k["\u0275\u0275text"](2," Faturas "),k["\u0275\u0275elementStart"](3,"input",0,1),k["\u0275\u0275listener"]("keydown.enter",function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](4);return t.onSearch(e.value)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](5,"nb-card-body"),k["\u0275\u0275elementStart"](6,"ng2-smart-table",2),k["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275element"](7,"nb-card-footer"),k["\u0275\u0275elementEnd"]()}2&e&&(k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[b.t,b.v,b.s,y.c,b.u],styles:[""]}),g),$=((v=function(){function e(t){r(this,e),this.httpClient=t,this.endPoint="http://localhost:8081/categorias",this.httpOptions={headers:{"Content-Type":"application/json; charset=utf-8"}}}return o(e,[{key:"getCategorias",value:function(){return this.httpClient.get(this.endPoint+"/list").pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"getUser",value:function(e){return this.httpClient.get(this.endPoint+"/get/"+e).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"save",value:function(e){return this.httpClient.post(this.endPoint+"/add",e,this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"update",value:function(e,t){return this.httpClient.put(this.endPoint+"/alter/"+e,JSON.stringify(t),this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"delete",value:function(e){return this.httpClient.delete(this.endPoint+"/delete/"+e,this.httpOptions).pipe(Object(E.a)(1),Object(w.a)(this.httpError))}},{key:"httpError",value:function(e){var t;return t=e.error instanceof ErrorEvent?e.error.message:"Error Code: ".concat(e.status,"\nMessage: ").concat(e.message),console.log(t),Object(I.a)(t)}}]),e}()).\u0275fac=function(e){return new(e||v)(k["\u0275\u0275inject"](R.a))},v.\u0275prov=k["\u0275\u0275defineInjectable"]({token:v,factory:v.\u0275fac,providedIn:"root"}),v),U=a("c23f");function G(e,t){if(1&e&&(k["\u0275\u0275elementStart"](0,"nb-option",27),k["\u0275\u0275text"](1),k["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;k["\u0275\u0275propertyInterpolate"]("value",n.id),k["\u0275\u0275advance"](1),k["\u0275\u0275textInterpolate"](n.descricao)}}var Z,X,Q,Y,ee=((Z=function(){function e(t,n,i,a,o){var s=this;r(this,e),this.service=t,this.http=n,this.despesaService=i,this.faturaService=a,this.categoriaService=o,this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{vencimento:{title:"Compra/Venc",type:"string",filter:!1},descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1},valor:{title:"Valor",type:"html",class:"smart-column-left",filter:!1,editor:{type:"custom",component:z}},numparc:{title:"N\xba Parc",type:"string",filter:!1},qtdeparc:{title:"Qtde Parc",type:"string",filter:!1},categoria:{title:"Categoria",type:"html",filter:!1,editor:{type:"list",config:{list:[]}}},fixa:{title:"Fixa",type:"html",filter:!1,editor:{type:"checkbox",config:{true:"Sim",false:"N\xe3o",resetText:"clear"}}}},pager:{display:!1}},this.source=new y.b,this.totalDespesas="0,00",this.faturaoption="",this.mesref="05",this.anoref="2021",this.onPesquisaDespesas(),a.getFaturas().subscribe(function(e){s.faturasSelect=e}),o.getCategorias().subscribe(function(e){s.ResultGetCategorias=e;var t=[];Array.from(s.ResultGetCategorias).forEach(function(e){t.push({value:e.id+" - "+e.descricao,title:e.id+" - "+e.descricao})});var n=s.settings;n.columns.categoria.editor.config.list=t,s.settings=Object.assign({},n)})}return o(e,[{key:"ngOnInit",value:function(){}},{key:"onPesquisaDespesas",value:function(){var e=this;this.despesaService.getDespesas(this.faturaoption,this.mesref,this.anoref).subscribe(function(t){e.ResultGetDespesas=t;var n=[],i=0;Array.from(e.ResultGetDespesas).forEach(function(e){e.fatura=e.fatura+" - "+e.innerfatura.descricao,e.categoria=e.categoria+" - "+e.innercategoria.descricao,e.fixa=e.fixa?"Sim":"N\xe3o",n.push(e),i+=P.converteMoedaFloat(e.valor)}),e.source.load(n),e.totalDespesas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i)})}},{key:"onUpdateTotalDespesa",value:function(e,t){var n=this;this.source.getAll().then(function(i){var r=0;i.forEach(function(n){e.id===n.id?"ALTER"===t&&(r+=P.converteMoedaFloat(e.valor)):r+=P.converteMoedaFloat(n.valor)}),"INSERT"===t&&(r+=P.converteMoedaFloat(e.valor)),n.totalDespesas=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r)})}},{key:"onDeleteConfirm",value:function(e){var t=this;window.confirm("Tem certeza de que deseja excluir?")?(this.ItemDespesa=e.data,this.despesaService.delete(this.ItemDespesa.id).subscribe(function(){e.confirm.resolve(),t.onUpdateTotalDespesa(t.ItemDespesa,"DELETE")},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onCreateConfirm",value:function(e){var t=this;if(window.confirm("Deseja Salvar este item?")){this.ItemDespesa=e.newData,this.ItemDespesa.fatura=this.faturaoption,this.ItemDespesa.anofat=this.anoref,this.ItemDespesa.mesfat=this.mesref;var n=this.ItemDespesa.categoria,i=this.ItemDespesa.categoria.split("-");this.ItemDespesa.categoria=i[0].trim(),this.ItemDespesa.fixa="Sim"===this.ItemDespesa.fixa?"true":"false",this.ItemDespesa.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemDespesa.valor)),this.ItemDespesa.valor=this.ItemDespesa.valor.replace(/R\$/gi,"").trim(),this.despesaService.save(this.ItemDespesa).subscribe(function(i){t.ItemDespesa.id=i.id,t.ItemDespesa.categoria=n,t.ItemDespesa.fixa=t.ItemDespesa.fixa?"Sim":"N\xe3o",e.confirm.resolve(t.ItemDespesa),t.onUpdateTotalDespesa(t.ItemDespesa,"INSERT")},function(e){return console.error(e)})}else e.confirm.reject()}},{key:"onEditConfirm",value:function(e){var t=this;if(window.confirm("Deseja alterar este item?")){this.ItemDespesa=e.newData,this.ItemDespesa.fatura=this.faturaoption,this.ItemDespesa.anofat=this.anoref,this.ItemDespesa.mesfat=this.mesref;var n=this.ItemDespesa.categoria,i=this.ItemDespesa.categoria.split("-");this.ItemDespesa.categoria=i[0].trim(),this.ItemDespesa.fixa="Sim"===this.ItemDespesa.fixa?"true":"false",this.ItemDespesa.descricao=this.ItemDespesa.descricao.trim(),-1===this.ItemDespesa.valor.toString().indexOf(",")&&(this.ItemDespesa.valor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(parseFloat(this.ItemDespesa.valor))),this.ItemDespesa.valor=this.ItemDespesa.valor.replace(/R\$/gi,"").trim(),null!==this.ItemDespesa.innerfatura&&(void 0!==this.ItemDespesa.innerfatura.limite&&(this.ItemDespesa.innerfatura.limite=this.ItemDespesa.innerfatura.limite.replace(/R\$/gi,"").trim()),void 0!==this.ItemDespesa.innerfatura.valor&&(this.ItemDespesa.innerfatura.valor=this.ItemDespesa.innerfatura.valor.replace(/R\$/gi,"").trim())),this.despesaService.save(this.ItemDespesa).subscribe(function(){t.ItemDespesa.categoria=n,t.ItemDespesa.fixa=t.ItemDespesa.fixa?"Sim":"N\xe3o",e.confirm.resolve(t.ItemDespesa),t.onUpdateTotalDespesa(t.ItemDespesa,"ALTER")},function(e){return console.error(e)})}else e.confirm.reject()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.source.setFilter([{field:"vencimento",search:e},{field:"descricao",search:e},{field:"valor",search:e},{field:"numparc",search:e},{field:"qtdeparc",search:e},{field:"categoria",search:e}],!0)}}]),e}()).\u0275fac=function(e){return new(e||Z)(k["\u0275\u0275directiveInject"](S.a),k["\u0275\u0275directiveInject"](R.a),k["\u0275\u0275directiveInject"](U.a),k["\u0275\u0275directiveInject"](W.a),k["\u0275\u0275directiveInject"]($))},Z.\u0275cmp=k["\u0275\u0275defineComponent"]({type:Z,selectors:[["ngx-despesa"]],decls:51,vars:7,consts:[[1,"row"],[1,"col-lg-auto"],["matRipple","",2,"width","350px",3,"ngModel","ngModelChange"],["matRipple","",3,"value",4,"ngFor","ngForOf"],["matRipple","",2,"width","200px",3,"ngModel","ngModelChange"],["matRipple","","value","01"],["matRipple","","value","02"],["matRipple","","value","03"],["matRipple","","value","04"],["matRipple","","value","05"],["matRipple","","value","06"],["matRipple","","value","07"],["matRipple","","value","08"],["matRipple","","value","09"],["matRipple","","value","10"],["matRipple","","value","11"],["matRipple","","value","12"],[1,"col-lg-1"],["type","text","nbInput","","fullWidth","","placeholder","Ano","maxlength","4",1,"p-2",3,"ngModel","ngModelChange"],["size","medium","fullWidth",""],["matRipple","",2,"cursor","pointer",3,"click"],["icon","search-outline",1,"action-icon"],["type","text","placeholder","Filtro",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"],[1,"text-info"],["id","smart-total-receita",3,"innerHTML"],["matRipple","",3,"value"]],template:function(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-card"),k["\u0275\u0275elementStart"](1,"nb-card-header"),k["\u0275\u0275text"](2,"Despesas"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](3,"nb-card-body"),k["\u0275\u0275elementStart"](4,"div",0),k["\u0275\u0275elementStart"](5,"div",1),k["\u0275\u0275elementStart"](6,"nb-select",2),k["\u0275\u0275listener"]("ngModelChange",function(e){return t.faturaoption=e}),k["\u0275\u0275template"](7,G,2,2,"nb-option",3),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](8,"div",1),k["\u0275\u0275elementStart"](9,"nb-select",4),k["\u0275\u0275listener"]("ngModelChange",function(e){return t.mesref=e}),k["\u0275\u0275elementStart"](10,"nb-option",5),k["\u0275\u0275text"](11,"Janeiro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](12,"nb-option",6),k["\u0275\u0275text"](13,"Fevereiro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](14,"nb-option",7),k["\u0275\u0275text"](15,"Mar\xe7o"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](16,"nb-option",8),k["\u0275\u0275text"](17,"Abril"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](18,"nb-option",9),k["\u0275\u0275text"](19,"Maio"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](20,"nb-option",10),k["\u0275\u0275text"](21,"Junho"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](22,"nb-option",11),k["\u0275\u0275text"](23,"Julho"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](24,"nb-option",12),k["\u0275\u0275text"](25,"Agosto"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](26,"nb-option",13),k["\u0275\u0275text"](27,"Setembro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](28,"nb-option",14),k["\u0275\u0275text"](29,"Outubro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](30,"nb-option",15),k["\u0275\u0275text"](31,"Novembro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](32,"nb-option",16),k["\u0275\u0275text"](33,"Dezembro"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](34,"div",17),k["\u0275\u0275elementStart"](35,"input",18),k["\u0275\u0275listener"]("ngModelChange",function(e){return t.anoref=e}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](36,"nb-actions",19),k["\u0275\u0275elementStart"](37,"nb-action",20),k["\u0275\u0275listener"]("click",function(){return t.onPesquisaDespesas()}),k["\u0275\u0275element"](38,"nb-icon",21),k["\u0275\u0275elementStart"](39,"span"),k["\u0275\u0275text"](40,"Pesquisar"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](41,"nb-card"),k["\u0275\u0275elementStart"](42,"nb-card-header"),k["\u0275\u0275elementStart"](43,"input",22,23),k["\u0275\u0275listener"]("keydown.enter",function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](44);return t.onSearch(e.value)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](45,"nb-card-body"),k["\u0275\u0275elementStart"](46,"ng2-smart-table",24),k["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](47,"nb-card-footer"),k["\u0275\u0275elementStart"](48,"label",25),k["\u0275\u0275text"](49,"Total: \xa0"),k["\u0275\u0275elementEnd"](),k["\u0275\u0275element"](50,"label",26),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"]()}2&e&&(k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("ngModel",t.faturaoption),k["\u0275\u0275advance"](1),k["\u0275\u0275property"]("ngForOf",t.faturasSelect),k["\u0275\u0275advance"](2),k["\u0275\u0275property"]("ngModel",t.mesref),k["\u0275\u0275advance"](26),k["\u0275\u0275property"]("ngModel",t.anoref),k["\u0275\u0275advance"](11),k["\u0275\u0275property"]("settings",t.settings)("source",t.source),k["\u0275\u0275advance"](4),k["\u0275\u0275property"]("innerHTML",t.totalDespesas,k["\u0275\u0275sanitizeHtml"]))},directives:[b.t,b.v,b.s,b.bb,V.b,F.k,F.n,T.m,b.W,b.I,F.b,F.f,b.m,b.l,b.F,y.c,b.u],styles:["ng2-smart-table tbody tr td:nth-child(3) div.ng-star-inserted{text-align:right}"]}),Z),te=[{path:"",component:M,children:[{path:"carteira",component:O},{path:"categoria",component:(X=function(){function e(t,n,i){var a=this;r(this,e),this.service=t,this.http=n,this.categoriaService=i,this.DataCategorias=[],this.settings={actions:{columnTitle:"A\xe7\xf5es",position:"right"},add:{addButtonContent:'<i class="nb-plus"></i>',createButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmCreate:!0},edit:{editButtonContent:'<i class="nb-edit"></i>',saveButtonContent:'<i class="nb-checkmark"></i>',cancelButtonContent:'<i class="nb-close"></i>',confirmSave:!0},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{descricao:{title:"Descri\xe7\xe3o",type:"string",filter:!1}},pager:{display:!1}},this.source=new y.b,i.getCategorias().subscribe(function(e){a.DataCategorias=e,a.source.load(a.DataCategorias)})}return o(e,[{key:"onDeleteConfirm",value:function(e){window.confirm("Tem certeza de que deseja excluir?")?(this.ItemCategoria=e.data,this.categoriaService.delete(this.ItemCategoria.id).subscribe(function(){e.confirm.resolve()},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onCreateConfirm",value:function(e){var t=this;window.confirm("Deseja Salvar este item?")?(this.ItemCategoria=e.newData,this.categoriaService.save(this.ItemCategoria).subscribe(function(n){t.ItemCategoria.id=n.id,e.confirm.resolve(t.ItemCategoria)},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onEditConfirm",value:function(e){window.confirm("Deseja alterar este item?")?(this.ItemCategoria=e.newData,this.categoriaService.save(this.ItemCategoria).subscribe(function(){e.confirm.resolve()},function(e){return console.error(e)})):e.confirm.reject()}},{key:"onSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.source.setFilter([{field:"descricao",search:e}],!1)}}]),e}(),X.\u0275fac=function(e){return new(e||X)(k["\u0275\u0275directiveInject"](S.a),k["\u0275\u0275directiveInject"](R.a),k["\u0275\u0275directiveInject"]($))},X.\u0275cmp=k["\u0275\u0275defineComponent"]({type:X,selectors:[["ngx-categoria"]],decls:7,vars:2,consts:[["type","text","placeholder","Pesquisar",1,"search",2,"float","right",3,"keydown.enter"],["search",""],[3,"settings","source","deleteConfirm","createConfirm","editConfirm"]],template:function(e,t){if(1&e){var n=k["\u0275\u0275getCurrentView"]();k["\u0275\u0275elementStart"](0,"nb-card"),k["\u0275\u0275elementStart"](1,"nb-card-header"),k["\u0275\u0275text"](2," Categorias "),k["\u0275\u0275elementStart"](3,"input",0,1),k["\u0275\u0275listener"]("keydown.enter",function(){k["\u0275\u0275restoreView"](n);var e=k["\u0275\u0275reference"](4);return t.onSearch(e.value)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementStart"](5,"nb-card-body"),k["\u0275\u0275elementStart"](6,"ng2-smart-table",2),k["\u0275\u0275listener"]("deleteConfirm",function(e){return t.onDeleteConfirm(e)})("createConfirm",function(e){return t.onCreateConfirm(e)})("editConfirm",function(e){return t.onEditConfirm(e)}),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"](),k["\u0275\u0275elementEnd"]()}2&e&&(k["\u0275\u0275advance"](6),k["\u0275\u0275property"]("settings",t.settings)("source",t.source))},directives:[b.t,b.v,b.s,y.c],styles:[""]}),X)},{path:"despesa",component:ee},{path:"fatura",component:J},{path:"receita",component:K}]}],ne=((Q=function e(){r(this,e)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:Q}),Q.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Q)},imports:[[D.g.forChild(te)],D.g]}),Q),ie={align:"right",allowNegative:!1,decimal:",",precision:2,prefix:"",suffix:"",thousands:"."},re=((Y=function e(){r(this,e)}).\u0275mod=k["\u0275\u0275defineNgModule"]({type:Y}),Y.\u0275inj=k["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Y)},providers:[{provide:N,useValue:ie}],imports:[[b.w,b.xb,b.H,b.J,C.a,ne,y.d,F.e,H,b.cb,b.n]]}),Y)}}])}();